<!-- Breadcrumsbs
  file: breadcrumbs.html
  path: _includes/breadcrumbs.html
  TODO: Update to be read by Google Search Console "https://developers.google.com/search/docs/appearance/structured-data/breadcrumb"
 -->
{% if page.url != "/" and site.breadcrumbs %}
  {% unless paginator %}{% endunless %}
  
<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    <i class="bi bi-folder"></i>
    {% assign crumbs = page.url | remove:'/index.html' | split: '/' %}
    {% assign section = crumbs[1] | default: '' %}
    <a href="{{ '/' | relative_url }}">root</a>

    {% comment %}
      Avoid linking to intermediate directories that don't have index pages.
      Example: posts are /posts/YYYY/MM/DD/slug/ (only /posts/ and the leaf page exist).
    {% endcomment %}
    {% if section == 'posts' %}
      / <a href="{{ '/posts/' | relative_url }}">Posts</a>
      / {{ page.title }}
    {% elsif section == 'notebooks' %}
      / <a href="{{ '/notebooks/' | relative_url }}">Notebooks</a>
      / {{ page.title }}
    {% elsif section == 'notes' %}
      / <a href="{{ '/notes/' | relative_url }}">Notes</a>
      / {{ page.title }}
    {% elsif section == 'docs' %}
      / <a href="{{ '/docs/' | relative_url }}">Docs</a>
      / {{ page.title }}
    {% else %}
      {% for crumb in crumbs offset: 1 %}
        {% if forloop.last %}
          / {{ page.title }}
        {% elsif forloop.first %}
          / <a href="{{ '/' | append: crumb | append: '/' | relative_url }}">{{ crumb | replace:'-',' ' | remove:'.html' | capitalize }}</a>
        {% else %}
          {% comment %} Keep intermediate crumbs as plain text to avoid dead links {% endcomment %}
          / {{ crumb | replace:'-',' ' | remove:'.html' | capitalize }}
        {% endif %}
      {% endfor %}
    {% endif %}
  </ol>
</nav>
<!-- Secret Search bar  -->
<!-- Hidden
<form class="form-inline my-2 my-lg-0">
  <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
  <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
</form> 
-->

{% endif %}